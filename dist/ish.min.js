var ish=function(t,e,r){"use strict";function n(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}var i={},s="forEach",o="extend",r=(t.createElement("i"),function(r,s,o){s=s||t;var a;if(n(r)||r===e||r===t)a=[r],r=o||r;else if(s.length){a=[];for(var u,h=0;h<s.length;h++){u=s[h].querySelectorAll(r||"☺");for(var c=0;c<u.length;c++)a.push(u[c])}}else a=s.querySelectorAll(r||"☺");for(var l=a.length,f=Object.create(i),v=0;v<l;v++)f[v]=a[v]||a;return f.length=l,f.selector=r,f.context=s,f});r.fn={ishObject:i},i.nth=function(t){return r(this[t],null,this.selector)},i[s]=function(t,e){e=e||this;var n,i=0,s=this.length;for(i;i<s;i++)n=r(this[i],null,this.selector),t.call(e,n,i);return this},i.indexOf=function(t){var e=0,r=this.length;for(e;e<=r;e++){var n=this[e];if(n===t)return e;if(!n)return-1}},i.attr=function(t,e){var r;return"string"==typeof e?(this[s](function(r){r[0].setAttribute(t,e)}),r=this):this[0]&&(r=this[0].getAttribute(t)),r},r[o]=function(){for(var t=arguments,e=t[0],n=1;n<t.length;n++){var i=t[n];if(Array.isArray(e))for(var s=[],a=0;a<i.length;a++)null!==i[a]&&void 0!==i[a]&&(i[a].constructor===Object?e[a]=r[o](s[a]||{},i[a]):Array.isArray(i[a])?e[a]=r[o](s[a]||[],i[a]):e[a]=i[a]);else if(e.constructor===Object)for(var u in i){var h=i[u];null!==h&&void 0!==h&&(h.constructor===Object?e[u]=r[o](e[u]||{},h):h.constructor===Array?e[u]=r[o](e[u]||[],h):e[u]=h)}}return e},i.offset=function(){var t=0,e=0;return this[0].offsetParent&&(t=this[0].offsetLeft,e=this[0].offsetTop),{left:t,top:e}},i.dimension=function(r,n,i){var s;this.selector!==(e||t)&&(s=this[0].style.display,"none"===s&&(this[0].style.display="block"));var o=0,a=0,u=0;return n&&(a="height"===r?this.css("marginTop"):this.css("marginLeft"),u="height"===r?this.css("marginBottom"):this.css("marginRight"),o=a+u),o+=this[0]===e?"height"===r?this[0].outerHeight:this[0].outerWidth:i?"height"===r?this[0].clientHeight:this[0].clientWidth:"height"===r?this[0].offsetHeight:this[0].offsetWidth,this.selector!==(e||t)&&"none"===s&&(this[0].style.display="none"),o},i.css=function(t,r){if("object"==typeof t)for(var n in t)this.css(n,t[n]);else{if(!r){var i=t.slice(0,6)+"-"+t.slice(6).toLowerCase();return parseInt(this[0].style[t]||e.getComputedStyle(this[0]).getPropertyValue(i))}this[s](function(e){e[0].style[t]=r})}return this},i.on=function(t,e,n){return n?this[s](function(i){var o=i[0],a=o.mozMatchesSelector||o.webkitMatchesSelector||o.oMatchesSelector||o.matchesSelector||function(t){var e=o,n=r(t),i=!1;return n[s](function(t){t[0]===e&&(i=!0)}),i};o.delegates=o.delegates||[];var u={f:e,e:function(t){a.call(t.target,n)&&(t.delegateTarget=this,e.call(this,t))}};o.delegates.push(u),o.addEventListener(t,u.e)}):this[s](function(r){r[0].addEventListener(t,e,!1)},this),this},i.off=function(t,e){return this[s](function(r){r[0].removeEventListener(t,e,!1);var n=r[0].delegates;n&&n[s](function(n,i){n.f===e&&(r.off(t,n.e),r[0].delegates.splice(i-1,i))},this)}),this},i.trigger=function(e,r){return this[s](function(n){var i=t.createEvent("HTMLEvents");i.initEvent(e,!0,!0),i.data=r||{},i.eventName=e,n[0].dispatchEvent(i)}),this},i.height=function(t,e){return this.dimension("height",t,e)},i.width=function(t,e){return this.dimension("width",t,e)},r.ajax=function(t){var e=r.extend({type:"GET",url:"",success:null,error:null,data:"",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}},t),n=new XMLHttpRequest;n.open(e.type,encodeURI(e.url));var i=e.success,s=e.error,o=e.headers;for(var a in o)n.setRequestHeader(a,o[a]);return n.onload=function(){200===n.status?i&&i(n.responseText):s&&s(n.statusText,n.status)},n.send(e.data),n};var a="hasClass",u="addClass",h="removeClass";i[a]=function(t){var e=!1;return this[s](function(r){RegExp(" "+t+" ").test(" "+r[0].className+" ")&&(e=!0)}),e},i[h]=function(t){return this[s](function(e){if(e.hasClass(t)){for(var r=" "+e[0].className.replace(/[\t\r\n]/g," ")+" ";r.indexOf(" "+t+" ")>=0;)r=r.replace(" "+t+" "," ");e[0].className=r.replace(/^\s+|\s+$/g,"")}}),this},i[u]=function(t){return this[s](function(e){e.hasClass(t)||(e[0].className+=" "+t)}),this},i.invoke=function(t,e,r){e=e||{};var n=[];return e.selector=this.selector,this.forEach(function(i,s){var o=r||{};e.node=i[0],n[s]=t.call(o,e,i[0],e.selector)}),n},r.fn.emitter={init:function(){return this.listeners={},this},emit:function(t,e){var r=this.listeners[t];if(!r)return this;for(var n in r)r[n].call(this,e);return this},subscribe:function(t,e){return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),this},unsubscribe:function(t,e){var r=this.listeners[t],n=r.indexOf(e);return r.splice(n,1),this}},r.emitter=function(){return Object.create(r.fn.emitter).init()},function(){var t,n,i=[],s=function(t){o()},o=function(){t=e.innerWidth,n=e.innerHeight,i.forEach(function(i,s){var o,a;i.breakpoints.forEach(function(e,r){var s=e.name,u=e.width,h=e.height;i.state=i.state||[];var c=!isNaN(u)&&t>u,l=!isNaN(h)&&n>h;c?(o=s,a=0):l&&(o=s,a=1)}),(o&&null!==a&&i.state[a]!==o||""===o)&&(i.state[a]=o,r(e).trigger(i.eventPrefix+".onBreakpoint",{name:i.state[a]}))})};r.fn.responsive={add:function(t){return i.push(t),o(),this},remove:function(t){return i.forEach(function(e,r){e===t&&i.splice(r,1)}),this}},o(),r(e).on("resize",s)}(),r.responsive=function(t){var e=Object.create(r.fn.responsive),n=r.extend({breakpoints:[{name:"mobile",width:0},{name:"tablet",width:640},{name:"desktop",width:1024}],eventPrefix:"ish.responsive"},t||{});return e.destroy=function(){return responsiveFn.remove(n),null},e.add(n),e},r.resolveObjectPath=function(t,e){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var r=e.split("."),n=0,i=r.length;n<i;++n){var s=r[n];if(!(s in t))return;t=t[s]}return t},r.setPathByString=function(t,e,r){for(var n=e.split("."),i=t,s=0;s<n.length;s++){if(s===n.length-1)return i[n[s]]=r,i[n[s]];i[n[s]]||(i[n[s]]={}),i=i[n[s]]}},r.store={data:{},states:{},flush:function(){return this.states={},this.data={},this},createDataState:function(t,e){var n=this.data[t]=r.emitter();return n.actions={},n.store=null,n.model=null,e.call(n),n},createComState:function(t,e){if("string"==typeof t){this.states[t]||(this.states[t]=[]);var n=r.emitter();return n.actions={},e.call(n),this.states[t].push(n),n}return e.call(t),t}},r.deepProto=function(t){var e=Object.create(t);for(var n in t){var i=t[n];if(i)if("object"==typeof i)e[n]=r.deepProto(i);else if(Array.isArray(t[n]))for(var s=0;s<t[n].length;s++){var o=t[n][s];"object"==typeof o&&(o=r.deepProto(o))}}return e};var c=r.bindAttrName="ish-bind",l=t.createElement("div");return r.renderTemplate=function(t,e){l.insertAdjacentHTML("afterbegin",t);var n=r("["+c+"]",l);n.forEach(function(t){r.renderBind(t,e)});var i=l.removeChild(l.firstChild);return i},r.updateTemplate=function(t,e){var n=function(t){r.renderBind(t,e)};for(var i in e)r("["+c+"*="+i+"]",t).forEach(n);return r},r.renderBind=function(t,e){for(var n=t.attr(c).split(" "),i=0;i<n.length;i++){var s=n[i].split(":"),o=s[0].trim(),a=s[1].trim(),u=t[0][o],h=r.resolveObjectPath(e,a);h&&u!==h&&(t[0][o]=h)}},r.bindToObject=function(t,e){for(var n=t.attr(c).split(" "),i=0;i<n.length;i++){var s=n[i].split(":"),o=s[0].trim(),a=s[1].trim(),u=t[0][o];u&&r.setPathByString(e,a,u)}return this},function(){function t(t,e){for(var r={values:[],index:[]},n=0;n<e.length;n++)e[n].match(t)&&(r.index.push(n),r.values.push(e[n]));return r.index.length?r:-1}function n(e){var r=Object.keys(this.routes),n=r.indexOf(e);if(!(n>=0)){var s=e.split("/");s.shift();var o=t(s[0],r),a=o.index,u=o.values;if(a.length>1){for(var h,c={index:[],values:[]},l=0,f=0;f<u.length;f++){var v=u[f].split("/");v.shift();var d=0;if(v.length===s.length)for(var g=0;g<v.length;g++)v[g]===s[g]&&d++,d>l&&(l=d,h=f)}o.index[h]&&(c.index.push(o.index[h]),c.values.push(o.values[h])),o=c}if(0===o.index.length)return console.warn("Route Not Found"),void this.emit("ROUTE_NOT_FOUND",{route:e});o.index.length>1&&console.error("More than 1 route found");var p=o.values[0].split("/");p.shift();for(var m={},y=1;y<p.length;y++){var b=p[y].charAt(0)+p[y].charAt(p[y].length-1);if("{}"===b){var x=p[y].slice(1,-1),E=s[y];m[x]=E}}return console.log(e),i.pushState({},"",e),this.current=e,this.slugs=m,this.emit("ROUTE_NAVIGATE",{route:e,slugs:m}),this.routes[o.values[0]](m)}this.routes[r[n]]()}var i=e.history;r.fn.router={add:function(t,e){return this.routes[t]=e,this},remove:function(t){return delete this.routes[t],this},flush:function(){return this.routes={},this},navigate:function(t){var t=n.call(this,t);return this},destroy:function(){return null}},r.router=function(t){var e=Object.create(r.fn.router);return ish.extend(e,ish.emitter(),t),e}}(),r}(document,this);