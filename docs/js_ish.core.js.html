<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ish.js | Source: js/ish.core.js</title>
    <link type="text/css" rel="stylesheet" href="main.css">
</head>

<body>
<div class="l-header" data-scrollpop="header">
    <header data-scrollpop-bar>
        <div class="l-header__content" data-scrollpop-content>
            <h1><a href="/js/docs/">ish.js API Doc <span>(alpha)</span></a></h1>

            <button data-ui-main-nav--toggle class="c-main-nav__toggle icon--menu">
              <span></span>
              <span></span>
              <span></span>
            </button>
            
            <nav data-ui-main-nav class="c-main-nav">
                <div class="c-main-nav__inner">
                    
<!--<h3 class="applicationName"><a href="index.html"></a></h3> -->

<ul class="c-menu c-menu--alpha">

    <li data-name="ish">
        
        <a href="ish.html">ish</a>
        
        <!--<span class="static">static</span>-->
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Properties</span></li>
        
            <li data-name="ish.bindAttrName"><a href="ish.html#.bindAttrName">bindAttrName</a></li>
            
            <li data-name="ish.fn"><a href="ish.html#.fn">fn</a></li>
            
            
        </ul>
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.ajax"><a href="ish.html#.ajax">ajax</a></li>
            
            <li data-name="ish.bindToObject"><a href="ish.html#.bindToObject">bindToObject</a></li>
            
            <li data-name="ish.ish"><a href="ish.html#.ish">ish</a></li>
            
            <li data-name="ish.renderBind"><a href="ish.html#.renderBind">renderBind</a></li>
            
            <li data-name="ish.renderTemplate"><a href="ish.html#.renderTemplate">renderTemplate</a></li>
            
            <li data-name="ish.resolveObjectPath"><a href="ish.html#.resolveObjectPath">resolveObjectPath</a></li>
            
            <li data-name="ish.setPathByString"><a href="ish.html#.setPathByString">setPathByString</a></li>
            
            <li data-name="ish.updateTemplate"><a href="ish.html#.updateTemplate">updateTemplate</a></li>
            
            <li data-name="ish#extend"><a href="ish.html#extend">extend</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.responsive">
        
        <a href="ish.responsive.html">ish.responsive</a>
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Events</span></li>
            
                <li data-name="ish.responsive.event:onMediaBreak"><a href="ish.responsive.html#.event:onMediaBreak">onMediaBreak</a></li>
            
            
        </ul>
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Properties</span></li>
        
            <li data-name="ish.responsive.destroy"><a href="ish.responsive.html#.destroy">destroy</a></li>
            
            
        </ul>
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.responsive.add"><a href="ish.responsive.html#.add">add</a></li>
            
            <li data-name="ish.responsive.remove"><a href="ish.responsive.html#.remove">remove</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.fn.ishObject">
        
        <a href="ish.fn.ishObject.html">ish.fn.ishObject</a>
        
        
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.fn.ishObject.addClass"><a href="ish.fn.ishObject.html#.addClass">addClass</a></li>
            
            <li data-name="ish.fn.ishObject.attr"><a href="ish.fn.ishObject.html#.attr">attr</a></li>
            
            <li data-name="ish.fn.ishObject.css"><a href="ish.fn.ishObject.html#.css">css</a></li>
            
            <li data-name="ish.fn.ishObject.dimension"><a href="ish.fn.ishObject.html#.dimension">dimension</a></li>
            
            <li data-name="ish.fn.ishObject.forEach"><a href="ish.fn.ishObject.html#.forEach">forEach</a></li>
            
            <li data-name="ish.fn.ishObject.hasClass"><a href="ish.fn.ishObject.html#.hasClass">hasClass</a></li>
            
            <li data-name="ish.fn.ishObject.height"><a href="ish.fn.ishObject.html#.height">height</a></li>
            
            <li data-name="ish.fn.ishObject.indexOf"><a href="ish.fn.ishObject.html#.indexOf">indexOf</a></li>
            
            <li data-name="ish.fn.ishObject.nth"><a href="ish.fn.ishObject.html#.nth">nth</a></li>
            
            <li data-name="ish.fn.ishObject.off"><a href="ish.fn.ishObject.html#.off">off</a></li>
            
            <li data-name="ish.fn.ishObject.offset"><a href="ish.fn.ishObject.html#.offset">offset</a></li>
            
            <li data-name="ish.fn.ishObject.on"><a href="ish.fn.ishObject.html#.on">on</a></li>
            
            <li data-name="ish.fn.ishObject.removeClass"><a href="ish.fn.ishObject.html#.removeClass">removeClass</a></li>
            
            <li data-name="ish.fn.ishObject.trigger"><a href="ish.fn.ishObject.html#.trigger">trigger</a></li>
            
            <li data-name="ish.fn.ishObject.width"><a href="ish.fn.ishObject.html#.width">width</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.fn.easing">
        
        <a href="ish.fn.easing.html">ish.fn.easing</a>
        
        <!--<span class="static">static</span>-->
        
        
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.fn.easing.easeInCirc"><a href="ish.fn.easing.html#.easeInCirc">easeInCirc</a></li>
            
            <li data-name="ish.fn.easing.easeInCubic"><a href="ish.fn.easing.html#.easeInCubic">easeInCubic</a></li>
            
            <li data-name="ish.fn.easing.easeInExpo"><a href="ish.fn.easing.html#.easeInExpo">easeInExpo</a></li>
            
            <li data-name="ish.fn.easing.easeInOutCirc"><a href="ish.fn.easing.html#.easeInOutCirc">easeInOutCirc</a></li>
            
            <li data-name="ish.fn.easing.easeInOutCubic"><a href="ish.fn.easing.html#.easeInOutCubic">easeInOutCubic</a></li>
            
            <li data-name="ish.fn.easing.easeInOutExpo"><a href="ish.fn.easing.html#.easeInOutExpo">easeInOutExpo</a></li>
            
            <li data-name="ish.fn.easing.easeInOutQuad"><a href="ish.fn.easing.html#.easeInOutQuad">easeInOutQuad</a></li>
            
            <li data-name="ish.fn.easing.easeInOutQuart"><a href="ish.fn.easing.html#.easeInOutQuart">easeInOutQuart</a></li>
            
            <li data-name="ish.fn.easing.easeInOutQuint"><a href="ish.fn.easing.html#.easeInOutQuint">easeInOutQuint</a></li>
            
            <li data-name="ish.fn.easing.easeInOutSine"><a href="ish.fn.easing.html#.easeInOutSine">easeInOutSine</a></li>
            
            <li data-name="ish.fn.easing.easeInQuad"><a href="ish.fn.easing.html#.easeInQuad">easeInQuad</a></li>
            
            <li data-name="ish.fn.easing.easeInQuart"><a href="ish.fn.easing.html#.easeInQuart">easeInQuart</a></li>
            
            <li data-name="ish.fn.easing.easeInQuint"><a href="ish.fn.easing.html#.easeInQuint">easeInQuint</a></li>
            
            <li data-name="ish.fn.easing.easeInSine"><a href="ish.fn.easing.html#.easeInSine">easeInSine</a></li>
            
            <li data-name="ish.fn.easing.easeOutCirc"><a href="ish.fn.easing.html#.easeOutCirc">easeOutCirc</a></li>
            
            <li data-name="ish.fn.easing.easeOutCubic"><a href="ish.fn.easing.html#.easeOutCubic">easeOutCubic</a></li>
            
            <li data-name="ish.fn.easing.easeOutExpo"><a href="ish.fn.easing.html#.easeOutExpo">easeOutExpo</a></li>
            
            <li data-name="ish.fn.easing.easeOutQuad"><a href="ish.fn.easing.html#.easeOutQuad">easeOutQuad</a></li>
            
            <li data-name="ish.fn.easing.easeOutQuart"><a href="ish.fn.easing.html#.easeOutQuart">easeOutQuart</a></li>
            
            <li data-name="ish.fn.easing.easeOutQuint"><a href="ish.fn.easing.html#.easeOutQuint">easeOutQuint</a></li>
            
            <li data-name="ish.fn.easing.easeOutSine"><a href="ish.fn.easing.html#.easeOutSine">easeOutSine</a></li>
            
            <li data-name="ish.fn.easing.linear"><a href="ish.fn.easing.html#.linear">linear</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.store">
        
        <a href="ish.store.html">ish.store</a>
        
        <!--<span class="static">static</span>-->
        
        
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.store.createComState"><a href="ish.store.html#.createComState">createComState</a></li>
            
            <li data-name="ish.store.createDataState"><a href="ish.store.html#.createDataState">createDataState</a></li>
            
            <li data-name="ish.store.flush"><a href="ish.store.html#.flush">flush</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.emitter">
        
        <a href="ish.emitter.html">ish.emitter</a>
        
        
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.emitter.emit"><a href="ish.emitter.html#.emit">emit</a></li>
            
            <li data-name="ish.emitter.flush"><a href="ish.emitter.html#.flush">flush</a></li>
            
            <li data-name="ish.emitter.subscribe"><a href="ish.emitter.html#.subscribe">subscribe</a></li>
            
            <li data-name="ish.emitter.unsubscribe"><a href="ish.emitter.html#.unsubscribe">unsubscribe</a></li>
            
            
        </ul>
        
    </li>

    <li data-name="ish.router">
        
        <a href="ish.router.html">ish.router</a>
        
        
        
        
        
        
        <ul class="c-menu__members">
            <li><span class="c-menu__subtitle">Methods</span></li>
        
            <li data-name="ish.router.addRoute"><a href="ish.router.html#.addRoute">addRoute</a></li>
            
            
        </ul>
        
    </li>

</ul>

                </div>
                <button data-ui-main-nav--toggle class="c-main-nav__close">Close Menu</button>
            </nav>
         </div>
    </header> 
</div> 
<div class="l-doc" role="document">
    <main class="l-main">
            <div class="l-main__content">
                



	
    <section class="c-source-content">
        <article>
            <pre class="prettyprint source linenums"><code>var ishObject = {},
	forEach = 'forEach',
	extend = 'extend',
	_window = window,
	_doc = document,
	dummy = document.createElement('i');


/**
 * Simple selector engine based on &lt;code>querySelectorAll&lt;/code>. The usage and result is similar to &lt;code>jQuery(selector)&lt;/code>.
 * @name  ish
 * @augments ishObject
 * @function
 * @memberof ish
 * @param   {String|Node}   selector   A CSS Selector compatible with document.querySelectorAll or a single `Node`.
 * @param   {ishObject|Array|NodeList|Node} context  Used to give a selector a search context.
 * @param   {String} forceSelector    Set the ish('selector').selector paramter forcibly.
 * @return  {ishObject}                A list of nodes with inherited library methods.
 * @example
 * ish('selector');
 * //filter the collection with some context of type Node || NodeList
 * ish('selector', Node);
 * ish('selector', NodeList);
 */
var $ = function(selector, context, forceSelector) {
	context = context || document;

	var found;
	if (isNode(selector) || selector === window || selector === document) {
		found = [selector];
		selector = forceSelector || selector;
	} else {
		// if context is an ishObject
		if (context.length) {
			found = [];
			var nodesFound;
			for (var i = 0; i &lt; context.length; i++) {
				nodesFound = context[i].querySelectorAll(selector || '☺');
				// might be able to improve this....
				// https://blog.jscrambler.com/12-extremely-useful-hacks-for-javascript
				for (var el = 0; el &lt; nodesFound.length; el++) {
					found.push(nodesFound[el]);
				}
			}
		} else {
			// querySelectorAll requires a string with a length
			// otherwise it throws an exception
			found = context.querySelectorAll(selector || '☺');
		}
	}
	var length = found.length;
	var obj = Object.create(ishObject);

	for (var n = 0; n &lt; length; n++) {
		obj[n] = found[n]; // || found;
	}

	/**
	 * The number of items found in the collection.
	 * @memberOf ishObject
	 * @name  length
	 */
	obj.length = length;
	/**
	 * The selector string as given when calling ish(selector, context, forceSelector). This value can be overridden if using the ish() forceSelector parameter.
	 * @memberOf ishObject
	 * @name  selector
	 */

	obj.selector = selector;
	/**
	 * The context as given when calling ish(selector, context).
	 * @memberOf ishObject
	 * @name  context
	 */
	obj.context = context;
	return obj;
};

/**
 * An object which stores prototype objects.
 * @memberOf ish
 * @name  ish.fn
 */
$.fn = {
	/**
	 * @mixin ish.fn.ishObject
	 * @property {Number} length 	The number of items returned in the collection.
	 * @property {Number} context 	The context item passed to the ish() selector engine.
	 * @property {String} selector 	The selector string passed to the ish() selector engine.
	 * 
	 * @description
	 * When you invoke the `ish('selector')` method `ish.fn.ishObject` members are inherited through Prototype Delegation to the returned collection.
	 * The result is just like a jQuery Object, there is utility methods, a length, context and selector property.
	 * 
	 * @example
	 * // Cache an ishObject collection
	 * var collection = ish('selector');
	 * 
	 * // Call an ishObject method
	 * ish('selector').attr('attributeName');
	 * 
	 * // There is a length property
	 * ish('selector').length; 
	 * 
	 * // and also a selector property which refers to the first parameter passed into ish();
	 * ish('selector').selector;
	 *
	 * // You can call native methods on collection items just like you would in jQuery
	 * ish('selector')[0].style.display = 'block';
	 * 
	 */
	ishObject: ishObject
};

//Returns true if it is a DOM node
function isNode(o) {
	return (
		typeof Node === "object" ? o instanceof Node :
		o &amp;&amp; typeof o === "object" &amp;&amp; typeof o.nodeType === "number" &amp;&amp; typeof o.nodeName === "string"
	);
}

/**
 * Returns the item at the specified index in the `ishObject`.
 * @name  ish.fn.ishObject.nth
 * @function
 * @param  {Number} int    The index of the item in the `ishObject`.
 * @example
 * ish('selector').nth(0); //gets the first node
 */

ishObject.nth = function(int) {
	return $(this[int], null, this.selector);
};



/**
 * Iterates an `ishObject` returning each `Node` in an individual `ishObject`, along with its index 
 * in the original collection. This method will iterate every item in the collection and cannot be broken.
 * @name  ish.fn.ishObject.forEach
 * @function
 * @param  {Function} fn    The callback function which will be called with each iteration
 * @param  {Object}   scope The scope in which the callback function will be called. 
 * @return {ishObject}        Returns the `ishObject` which called it. Method is chainable. 
 * @example
 * ish('selector', function( $item, index ) {
 *     //iterates the collections Dom Nodes, cannot be broken out of.    
 * });
 */
ishObject[forEach] = function(fn, scope) {
	scope = scope || this;
	var i = 0,
		s,
		len = this.length;
	for (i; i &lt; len; i++) {
		s = $(this[i], null, this.selector);
		fn.call(scope, s, i);
	}
	return this;
};
/**
 * Gets the index of a specific `Node` in an `ishObject`
 * @name  ish.fn.ishObject.indexOf
 * @function
 * @param  {Node} needle    The `Node` to find in the `ishObject`.
 * @return {Number}         Index of the `Node` in the `ishObject`. Returns -1 if not found.
 * @example
 * ish('selector').indexOf(Node);
 */
ishObject.indexOf = function(needle) {
	var i = 0,
		len = this.length;

	for (i; i &lt;= len; i++) {
		var item = this[i];
		if (item === needle) {
			return i;
		} else if (!item) {
			return -1;
		}
	}
	//return this;
};
/**
 * Gets an attributes value for the first element in the `ishObject`. If the second argument is supplied the 
 * method sets an attribute and its value on all `Node`'s in the given `ishObject`. Prototyped method and properties are shadowed in the new object.
 * @name  ish.fn.ishObject.attr
 * @function
 * @param  {String} name        A valid CSS attribute selector.
 * @param  {String} value       The attirbute value to be set.
 * @return {ishObject|String}     If setting an attribute the method returns the `ishObject` which called it 
 * and is chainable. If getting an attribute value the method will return the value found or undefined if 
 * it's not found.
 * @example
 * ish('selector').attr('attribute-name'); //get an attribute value
 * ish('selector').attr('attribute-name','attribute-value'); //set an attribute value
 */
ishObject.attr = function(name, value) {
	var returnVal;
	if (typeof value === "string") {
		this[forEach](function(el) {
			el[0].setAttribute(name, value);
		});
		returnVal = this;
	} else if (this[0]) {
		returnVal = this[0].getAttribute(name);
	}
	return returnVal;
};

/**
 * Accepts a series objects, merging the second parameter into the first recursively, if more than two objects are supplied the other objects are merged into the first in the order given.
 * @name  ish#extend
 * @function
 * @param  {Object} object1 An `Object` that will have values of object2 recursively merged.
 * @param  {Object} [,obectj2] A series of `Objects` to merge into object1.
 * @return {Object}         A merged `Object`.
 * @example
 * var obj1 = {a:'a',b:{ba:'ba',bb:'bb',bc:{bca:'bca'}},c:[1,2,3]};
 * var obj2 = {d:'d',b:{ba:'ba-change',bc:{bcb:'added'}},c:[4,5,6]};
 * ish.extend(obj1,obj2);
 */

function extendProp (targetObject, toMerge, prop){
	var propValue = toMerge[prop];
	if (propValue === null || propValue === undefined) {
		return; // skip null and undefined values
	} else if (propValue.constructor === Object || Array.isArray(propValue)) { // recurse objects that already exisit on the target
		targetObject[prop] = $[extend](targetObject[prop] || {}, propValue);
	} else {
		/*var descriptor = Object.getOwnPropertyDescriptor(targetObject, prop);
		console.log('descriptor ',prop, descriptor, (typeof descriptor !== 'undefined' &amp;&amp; descriptor.writable === 'true'), !targetObject[prop] );
		
		if((typeof descriptor !== 'undefined' &amp;&amp; typeof descriptor.set !== 'undefined') || !targetObject[prop]) {
			console.log('extend ',prop);
			targetObject[prop] = propValue;
		}*/

		targetObject[prop] = propValue;
	}
}
$[extend] = function() {
	var args = arguments;
	var targetObject = args[0];
	// TODO: I dont think this will copy over any constructor prototypes implementations...
	// TODO: should I consider shallow copies?
	for (var i = 1; i &lt; args.length; i++) {
		var toMerge = args[i];
		if(Array.isArray(targetObject)){
			var newArray = [];
			for (var e = 0; e &lt; toMerge.length; e++) {
				if (toMerge[e] === null || toMerge[e] === undefined) {
					continue; // skip null and undefined values
				} else if (toMerge[e].constructor === Object ){ 
					newArray[e] = $[extend](newArray[e] || {}, toMerge[e]);
				} else if ( Array.isArray( toMerge[e])) {
					newArray[e] = $[extend](newArray[e] || [], toMerge[e]);
				} else {
					targetObject[e]  = toMerge[e];
				}
			}
		} else if(targetObject.constructor === Object){
			// all keys incuding non-enums
			var allKeys = Object.getOwnPropertyNames(toMerge);			
			for (var prop in toMerge) {
				var keyInx = allKeys.indexOf(prop);
				allKeys.splice(keyInx, 1);
				extendProp (targetObject, toMerge, prop);
			}
			// extend any non-enumerable props left over
			for (var each = 0; each &lt; allKeys.length; each++) {
				extendProp (targetObject, toMerge, allKeys[each]);
			}
		}
	}
	return targetObject;
};

/**
 * Returns the left and top offset in pixels for the first element in the `ishObject`. 
 * @name  ish.fn.ishObject.offset
 * @function
 * @return {Object}         An `Object` with values for left and top offsets in pixel values.
 * @example
 * ish('selector').offset();
 */
ishObject.offset = function() {
	var ol = 0;
	var ot = 0;
	if (this[0].offsetParent) {

		ol = this[0].offsetLeft;
		ot = this[0].offsetTop;

	}
	return {
		left: ol,
		top: ot
	};
};

/**
 * Gets the width or height the first element in the supplied `ishObject`.
 * @name  ish.fn.ishObject.dimension
 * @function
 * @param  {String} type          'width' or 'height'.
 * @param  {Boolean} margins      Include margins in the return result.
 * @param  {Boolean} excludeScrollBar Exclude the scrollbars width/height from the result.
 * @return {Integer}              The height of the element.
 * @example
 * ish('selector').width();
 */
ishObject.dimension = function(type, margins, excludeScrollBar) {
	var disp;
	var target = this[0];
	if (this.selector !== (window || document)) {
		disp = target.style.display;
		if (disp === 'none') target.style.display = 'block';
	}
	var height = 0;
	var mt = 0;
	var mb = 0;
	if (margins) {
		mt = type === 'height' ? this.css('marginTop') : this.css('marginLeft');
		mb = type === 'height' ? this.css('marginBottom') : this.css('marginRight');
		height = mt + mb;
	}
	if (target === window) {
		height += type === 'height' ? target.outerHeight : target.outerWidth;
	} else if (excludeScrollBar) {
		height += type === 'height' ? target.clientHeight : target.clientWidth;
	} else {
		height += type === 'height' ? target.offsetHeight : target.offsetWidth;
	}
	if (this.selector !== (window || document) &amp;&amp; disp === 'none') {
		target.style.display = 'none';
	}
	return height;
};

/**
 * Gets the CSS value of the first element in the supplied `ishObject`. Or sets the CSS value on all items in an `ishObject`.
 * @name  ish.fn.ishObject.css
 * @function
 * @param  {String} prop   The name of the CSS property in camelCase. eg. 'margin-left' would be passed as 'marginLeft'.  
 * @param  {String} value   Exclude the horizontal scrollbars height from the result.
 * @return {ishObject}       Returns the `ishObject` which called it. Method is chainable. 
 * @example
 * ish('selector').css();
 */
ishObject.css = function(prop, value) {
	if(typeof prop === 'object') {
		for(var each in prop) {
			this.css(each, prop[each]);
		}
	} else if (!value) {
		//get the style
		var typeStr = prop.slice(0, 6) + '-' + prop.slice(6).toLowerCase();
		return parseInt(this[0].style[prop] || window.getComputedStyle(this[0]).getPropertyValue(typeStr));
	} else {
		// set the style
		this[forEach](function($el) {
			$el[0].style[prop] = value;
		});
	}
	return this;
};</code></pre>
        </article>
    </section>




            </div>
    </main>
</div>

    <!-- <footer>
        Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat Apr 22 2017 18:03:00 GMT+1000 (AUS Eastern Standard Time)
    </footer> -->
<script src="../../js/dist/ish.min.js"> </script>
<script src="main.js"> </script>

</body>
</html>
